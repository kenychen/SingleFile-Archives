<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Archives</title>
  </head>

  <body>
    <script>
      (async () => {
        // 直接讀取當前目錄
        const response = await fetch("./");
        const text = await response.text();

        // 使用臨時 DOM 元素來解析目錄列表
        const parser = new DOMParser();
        const doc = parser.parseFromString(text, "text/html");
        const links = Array.from(doc.querySelectorAll("a"));

        const listElement = document.createElement("ul");
        for (const link of links) {
          const fileName = link.href.split("/").pop();
          // 只列出 .html 檔案，且排除 index.html
          if (fileName.endsWith(".html") && fileName !== "index.html") {
            const itemElement = document.createElement("li");
            const linkElement = document.createElement("a");
            linkElement.href = fileName;
            linkElement.textContent = fileName;
            linkElement.target = "_blank";
            itemElement.appendChild(linkElement);
            listElement.appendChild(itemElement);
          }
        }
        document.body.appendChild(listElement);
      })();
    </script>
  </body>
</html>
